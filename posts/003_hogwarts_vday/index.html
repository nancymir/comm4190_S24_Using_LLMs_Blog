<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nancy">
<meta name="dcterms.date" content="2024-02-13">
<meta name="description" content="How well can AI cook up personalized Valentine’s Day Activities According to your Date’s Hogwarts House?">

<title>Prompting LLMs - Personalized Valentine’s Day Itineraries</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Prompting LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Personalized Valentine’s Day Itineraries</h1>
                  <div>
        <div class="description">
          How well can AI cook up personalized Valentine’s Day Activities According to your Date’s Hogwarts House?
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">Prompting</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Nancy </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 13, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="can-gpt-4-write-up-the-perfect-valentines-day-according-to-hogwarts-house-personality" class="level2">
<h2 class="anchored" data-anchor-id="can-gpt-4-write-up-the-perfect-valentines-day-according-to-hogwarts-house-personality">Can <code>gpt-4</code> Write Up the Perfect Valentine’s Day According to Hogwarts House Personality?</h2>
<p>With Valentine’s Day around the corner, it’s the perfect time to prompt some LLM’s to generate a last minute Valentine’s Day itinerary for your potential date. Of course, the only thing you know about them is their Hogwarts House, and you fully rely on this one fact to impress your crush.</p>
<p><code>gpt-4</code> was assigned the <strong>role of “An assistant who knows a lot about Hogwarts Houses”</strong> and was given the following House descriptions from the Wizarding World website:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.wizardingworld.com/features/hogwarts-house-meanings" title="Hogwarts Houses Descriptions"><img src="hogwarts_houses.jpeg" class="img-fluid figure-img" alt="Hogwarts Houses Descriptions"></a></p>
<figcaption>Hogwarts Houses Descriptions</figcaption>
</figure>
</div>
</section>
<section id="a-ravenclaws-perfect-valentines-day" class="level2">
<h2 class="anchored" data-anchor-id="a-ravenclaws-perfect-valentines-day">A <strong>Ravenclaw’s</strong> Perfect Valentine’s Day</h2>
<section id="what-did-gpt-4-come-up-with-when-asked-to-create-an-itinerary-for-a-ravenclaw" class="level3">
<h3 class="anchored" data-anchor-id="what-did-gpt-4-come-up-with-when-asked-to-create-an-itinerary-for-a-ravenclaw">What did <code>gpt-4</code> come up with when asked to create an itinerary for a Ravenclaw?</h3>
<blockquote class="blockquote">
<p><em>Prompt:</em></p>
<p>Using your extensive knowledge on the Hogwarts Houses and their personalities, help the user construct the perfect Valentine’s Day itineraries for their potential date who is a <strong>Ravenclaw</strong>. The itinerary should <strong>include one of three meals</strong> (brunch, lunch, or dinner) accompanied by <strong>at least one activity</strong> preceding or following the meal or both. The whole itinerary <strong>should not exceed more than 6 hours of the day</strong>.</p>
</blockquote>
<blockquote class="blockquote">
<p><em>Response:</em></p>
<p>Sure, I’d be happy to help with this! Given that a Ravenclaw values intellect and wit, your itinerary should reflect a mix of thoughtful activities and engaging conversation. Here’s a proposed itinerary for a Ravenclaw Valentine’s Day:</p>
<ol type="1">
<li><p><strong>Visit to a Museum (10:00 AM - 12:30 PM)</strong>: Start the day with a trip to a local museum. Whether it’s art, history, or science, a Ravenclaw is sure to appreciate the chance to learn something new. Make sure to engage in meaningful discussions about the exhibits - this will show your Ravenclaw date that you value their intellect.</p></li>
<li><p><strong>Lunch at a Unique, Themed Restaurant (1:00 PM - 2:30 PM)</strong>: Ravenclaws are known for their creativity and individuality, so choosing a restaurant with a unique theme or unusual menu will pique their interest. This could be a restaurant with a literary theme, or one that serves dishes from a cuisine they’ve never tried before.</p></li>
<li><p><strong>Bookstore or Library Visit (3:00 PM - 4:30 PM)</strong>: After lunch, head to a local bookstore or library. Ravenclaws love reading and learning, so this will be a perfect leisurely activity. You could each choose a book for the other to read, or find a quiet corner and read together.</p></li>
<li><p><strong>Stargazing (5:00 PM - 6:00 PM)</strong>: End the day with a peaceful session of stargazing. Ravenclaws are known for their wisdom and inquisitiveness, so they’ll love the chance to observe the cosmos and discuss the mysteries of the universe.</p></li>
</ol>
<p>Remember, the key to impressing a Ravenclaw is showing your own curiosity and enthusiasm for learning. Make sure to ask lots of questions and show genuine interest in their thoughts and ideas. This will surely make for a Valentine’s Day that a Ravenclaw will remember.</p>
</blockquote>
</section>
</section>
<section id="a-gryffindorss-perfect-valentines-day" class="level2">
<h2 class="anchored" data-anchor-id="a-gryffindorss-perfect-valentines-day">A <strong>Gryffindors’s</strong> Perfect Valentine’s Day</h2>
<section id="what-did-gpt-4-come-up-with-when-asked-to-create-an-itinerary-for-a-gryffindor" class="level3">
<h3 class="anchored" data-anchor-id="what-did-gpt-4-come-up-with-when-asked-to-create-an-itinerary-for-a-gryffindor">What did <code>gpt-4</code> come up with when asked to create an itinerary for a Gryffindor?</h3>
<blockquote class="blockquote">
<p><em>Prompt:</em></p>
<p>Using your extensive knowledge on the Hogwarts Houses and their personalities, help the user construct the perfect Valentine’s Day itineraries for their potential date who is a <strong>Gryffindor</strong>. The itinerary should <strong>include one of three meals</strong> (brunch, lunch, or dinner) accompanied by <strong>at least one activity</strong> preceding or following the meal or both. The whole itinerary <strong>should not exceed more than 6 hours of the day</strong>.</p>
</blockquote>
</section>
<section id="a-clarification-of-the-real-world" class="level3">
<h3 class="anchored" data-anchor-id="a-clarification-of-the-real-world">A clarification of the real world</h3>
<p>This second time around–although I had inputted the same prompt only with a different Hogwarts House–<code>gpt-4</code> <strong>responded with a fictional itinerary</strong> in accordance with the fictional world of Hogwarts, which in short looked like:</p>
<blockquote class="blockquote">
<p>Fictional Response:</p>
<p><strong>13:00 - 15:00: Quidditch Match</strong></p>
<p><strong>15:30 - 17:00: Late Lunch in Hogsmeade</strong></p>
<p><strong>17:30 - 18:30: Visit to the Shrieking Shack</strong></p>
<p><strong>18:30 - 19:00: Sunset by the Black Lake</strong></p>
</blockquote>
</section>
<section id="the-following-clarification-was-given" class="level3">
<h3 class="anchored" data-anchor-id="the-following-clarification-was-given">The following clarification was given</h3>
<div id="bbba3128-2c72-4f8e-8f15-64bdd0c900fc" class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>{<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: <span class="st">"do not write the itineraries within the fictional Hogwarts World. Assume it is a real life itinerary."</span>}]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The response now looked a lot more similar to our Ravenclaw itinerary.</p>
<blockquote class="blockquote">
<p><em>Response:</em></p>
<p>Certainly! Here’s a Valentine’s Day itinerary for someone who embodies the spirit of Gryffindor:</p>
<p><strong>12:00 PM: Outdoor Adventure Hike:</strong> Start your morning with an exciting outdoor adventure. Gryffindors are known for their daring, nerve, and chivalry. They love a challenge and the thrill of adventure. Plan a scenic hike at a local nature reserve or park. This will give you the chance to enjoy each other’s company while appreciating the beauty of nature.</p>
<p><strong>2:30 PM: Picnic Brunch:</strong> Pack a hearty brunch to enjoy after your hike. Gryffindors appreciate straightforward, hearty meals. Sandwiches, fruits, and some homemade pastries would work wonderfully. Don’t forget a thermos of hot chocolate or coffee to warm up after your hike.</p>
<p><strong>4:00 PM: Historical Tour or Museum Visit:</strong> Gryffindors have a great respect for history and tradition. Visit a local museum or historical site in your city to ignite their love for heritage and legacy. This will also provide a great conversation starter as you explore together.</p>
<p><strong>6:00 PM: Casual Dinner:</strong> End the day with a casual yet hearty dinner at a cozy restaurant. Gryffindors would appreciate a warm, welcoming atmosphere and good, hearty food. They’re not overly concerned with fancy or elaborate meals, so a local favorite with good reviews should do the trick.</p>
<p>Remember, the most important thing is to have fun and enjoy each other’s company. Gryffindors value authenticity, so be yourself and let your genuine affection shine through.</p>
</blockquote>
</section>
</section>
<section id="a-hufflepuffs-perfect-valentines-day" class="level2">
<h2 class="anchored" data-anchor-id="a-hufflepuffs-perfect-valentines-day">A <strong>Hufflepuff’s</strong> Perfect Valentine’s Day</h2>
<section id="what-did-gpt-4-come-up-with-when-asked-to-create-an-itinerary-for-a-hufflepuff" class="level3">
<h3 class="anchored" data-anchor-id="what-did-gpt-4-come-up-with-when-asked-to-create-an-itinerary-for-a-hufflepuff">What did <code>gpt-4</code> come up with when asked to create an itinerary for a Hufflepuff?</h3>
<blockquote class="blockquote">
<p><em>Prompt:</em></p>
<p>Using your extensive knowledge on the Hogwarts Houses and their personalities, help the user construct the perfect Valentine’s Day itineraries for their potential date who is a <strong>Hufflepuff</strong>. The itinerary should <strong>include one of three meals</strong> (brunch, lunch, or dinner) accompanied by <strong>at least one activity</strong> preceding or following the meal or both. The whole itinerary <strong>should not exceed more than 6 hours of the day</strong>.</p>
</blockquote>
</section>
<section id="a-second-clarification" class="level3">
<h3 class="anchored" data-anchor-id="a-second-clarification">A second clarification</h3>
<p><code>gpt-4</code> now seemed to forget to keep the itinerary under 6 hours. The following clarification was added:</p>
<div id="27e48cc0-57f1-4f2e-ab8a-4d7b1bced582" class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>{<span class="st">"role"</span>: <span class="st">"user"</span>, <span class="st">"content"</span>: <span class="st">"The itinerary should not span over more than 6 hours of the day."</span>}]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p><em>Response:</em></p>
<p>Absolutely, I understand. Here’s a real-world, Valentine’s Day itinerary for your Hufflepuff date:</p>
<p><strong>Brunch at a Farm-to-Table Restaurant (1.5 hours)</strong> Start your day off by enjoying a brunch together at a local farm-to-table restaurant. Hufflepuffs appreciate hard work and honesty, and they would love the authentic and fresh food that such a place provides. Try to find a restaurant with a friendly and welcoming atmosphere, as Hufflepuffs value comfort and a sense of community.</p>
<p><strong>Visit to a Local Botanical Garden (2 hours)</strong> Following brunch, head to a local botanical garden to enjoy some time in nature. Hufflepuffs, with their House emblem being the badger, have a strong connection to the earth and will appreciate the beauty and tranquility of a botanical garden. This can be a great opportunity to have a gentle stroll, engage in deep conversations, and enjoy each other’s company.</p>
<p><strong>Pottery Class (2 hours)</strong> After spending time in the garden, partake in a pottery class. Hufflepuffs are known for their patience, dedication, and diligent hands, so they would likely enjoy an activity that allows them to create something beautiful from scratch. Pottery classes are also very hands-on and interactive, providing a fun and intimate experience for both of you.</p>
<p><strong>Coffee and Dessert at a Cozy Cafe (0.5 hours)</strong> To end your day, stop by a cozy local cafe for some coffee and dessert. This will allow you to wind down from the day’s activities, and provide a perfect opportunity for some quiet conversation. Remember to select a place that has a warm and welcoming vibe, as this is something that a Hufflepuff would particularly enjoy.</p>
<p>This itinerary keeps the total time to 6 hours, and includes a variety of activities that cater to a Hufflepuff’s personality and preferences.</p>
</blockquote>
</section>
</section>
<section id="a-slytherins-perfect-valentines-day" class="level2">
<h2 class="anchored" data-anchor-id="a-slytherins-perfect-valentines-day">A <strong>Slytherin’s</strong> Perfect Valentine’s Day</h2>
<section id="what-did-gpt-4-come-up-with-when-asked-to-create-an-itinerary-for-a-slytherin" class="level3">
<h3 class="anchored" data-anchor-id="what-did-gpt-4-come-up-with-when-asked-to-create-an-itinerary-for-a-slytherin">What did <code>gpt-4</code> come up with when asked to create an itinerary for a Slytherin?</h3>
<blockquote class="blockquote">
<p><em>Prompt:</em></p>
<p>Using your extensive knowledge on the Hogwarts Houses and their personalities, help the user construct the perfect Valentine’s Day itineraries for their potential date who is a <strong>Slytherin</strong>. The itinerary should <strong>include one of three meals</strong> (brunch, lunch, or dinner) accompanied by <strong>at least one activity</strong> preceding or following the meal or both. The whole itinerary <strong>should not exceed more than 6 hours of the day</strong>.</p>
</blockquote>
<blockquote class="blockquote">
<p><em>Response:</em></p>
<p>Perfect, let’s make a Valentine’s Day itinerary suitable for a person who embodies the traits of a Slytherin: ambitious, resourceful, and a bit of a luxury lover.</p>
<p>Here’s the plan for a 6 hour Valentine’s Day date:</p>
<p>Start Time: 3:00 PM</p>
<p>End Time: 9:00 PM</p>
<p><strong>3:00 PM - 5:00 PM: Visit an Art Gallery</strong> Start the afternoon by visiting a contemporary art gallery. Slytherins appreciate fine and luxurious things, and the thought-provoking nature of art can spark interesting conversations. It’s a quiet, intimate setting which allows for getting to know each other better.</p>
<p><strong>5:30 PM - 7:00 PM: Fine Dining Dinner</strong> After the gallery, head to a high-end restaurant for a fine dining experience. Slytherins love the finer things in life, and nothing speaks more to that than a luxurious meal. A place with a sophisticated ambiance that serves dishes with exquisite presentation would be ideal. Make sure to reserve a table in advance.</p>
<p><strong>7:30 PM - 9:00 PM: Luxury Yacht River Cruise</strong> End the evening with a private, luxury yacht river cruise. It’s a romantic setting that allows for intimate conversation, and the views of the city’s skyline from the river are truly spectacular. Also, the exclusivity of the experience aligns well with the Slytherin’s preference for things that are a cut above the ordinary.</p>
<p>Remember, the key to impressing a Slytherin is to show thoughtfulness and ambition in your planning, by choosing unique and high-end experiences.</p>
</blockquote>
</section>
</section>
<section id="what-did-my-ravenclawgryffindorhufflepuffslytherin-friends-think-of-their-valentines-day-itinerary" class="level2">
<h2 class="anchored" data-anchor-id="what-did-my-ravenclawgryffindorhufflepuffslytherin-friends-think-of-their-valentines-day-itinerary">What did my Ravenclaw/Gryffindor/Hufflepuff/Slytherin friends think of their Valentine’s Day itinerary?</h2>
<table class="table">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Hogwarts House Representative</strong></th>
<th><strong>Is this your perfect Valentine’s Day?</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ravenclaw</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Gryffindor</td>
<td>Yes</td>
</tr>
<tr class="odd">
<td>Hufflepuff</td>
<td>Yes</td>
</tr>
<tr class="even">
<td>Slytherin</td>
<td>Yes</td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>